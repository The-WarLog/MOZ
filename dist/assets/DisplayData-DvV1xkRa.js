import{d as f,e as l,l as g,m as D,c as r,a as u,t as v,p as h,o as i,_ as S}from"./index-BCkT4aEN.js";const y={class:"data-provider"},N={key:0,class:"",loading:""},k={key:1,class:"error"},b={key:2},w=f({__name:"DisplayData",setup(T,{expose:p}){const a=l([]),s=l(!0),o=l(null),c=g(()=>a.value?.reduce((e,t)=>e+t.total_price,0)||0),d=async()=>{s.value=!0,o.value=null;try{const e=await fetch("https://68d424b8214be68f8c6887f1.mockapi.io/api/mozilla/tech/web/task/sales");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();a.value=t}catch(e){o.value=e}finally{s.value=!1}};function m(e){if(e instanceof Date)return isNaN(e.getTime())?String(e):e.toLocaleDateString();let t;const n=Number(e);if(!Number.isNaN(n)&&String(e).trim()!==""){const _=String(Math.trunc(n)).length===10?n*1e3:n;t=new Date(_)}else t=new Date(String(e));return isNaN(t.getTime())?String(e):t.toLocaleDateString()}return D(()=>{d()}),p({salesData:a,totalRevenue:c,fetchSalesData:d}),(e,t)=>(i(),r("div",y,[s.value?(i(),r("div",N,[...t[0]||(t[0]=[u("p",null,"Loading Sales data...",-1)])])):o.value?(i(),r("div",k,[u("p",null,"Error loading data: "+v(o.value.message),1)])):(i(),r("div",b,[h(e.$slots,"default",{salesData:a.value,totalRevenue:c.value,loading:s.value,formatDate:m},void 0)]))]))}}),B=S(w,[["__scopeId","data-v-e6b55edb"]]);export{B as D};
